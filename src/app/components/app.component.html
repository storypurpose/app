<nav class="navbar navbar-expand-md bg-white" style="z-index: 1000;">
  <div class="container-fluid p-0">
    <a class="text-dark h4" routerLink="/browse">
      <img src="./assets/logo.png" height="26pt" />
      <span class="font-weight-light ml-2">Story</span>
      <span class="text-brand">Purpose</span>
    </a>
    <ui-switch [title]="isOnlineMode ? 'Online mode': 'Offline mode'" class="nav-link" [(ngModel)]="isOnlineMode"
      (change)="onModeChange($event)" size="small" *ngIf="allowOfflineMode">
    </ui-switch>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
      (click)="isCollapsed = !isCollapsed">
      <fa-icon icon="bars" size="lg" class="text-muted"></fa-icon>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent" [ngbCollapse]="isCollapsed">
      <ul class="navbar-nav ml-sm-auto">

        <li class="nav-item">
          <a class="nav-link bg-light text-muted pl-3 pr-3" style="border-radius:20pt;" (click)="showQueryExecutorEditor()">
            Search <fa-icon icon="search" class="ml-5"></fa-icon>
          </a>
        </li>

        <li class="navbar-text text-muted ml-2"
          *ngIf="connectionDetails && connectionDetails.displayName && connectionDetails.displayName.length > 0">
          <a (click)="showDisplayName = !showDisplayName">
            <fa-icon icon="user" size="fw" class="mr-1"></fa-icon>
            <span *ngIf="showDisplayName || !isCollapsed">{{connectionDetails.displayName}}</span>
          </a>
        </li>

        <li class="nav-item">
          <app-tools></app-tools>
        </li>
        <li class="nav-item">
          <app-copyright></app-copyright>
        </li>
      </ul>
    </div>
  </div>
</nav>

<p-dialog header="Connection details" position="topright" class="bg-light" [(visible)]="showConnectionEditor"
  (onHide)="connectionDetailsSetupCompleted()">
  <app-connection-details [connectionDetails]="connectionDetails" (close)="connectionDetailsSetupCompleted()">
  </app-connection-details>
</p-dialog>

<ngx-loading-bar color="#FF8000" height="4pt" [includeSpinner]="false"></ngx-loading-bar>

<p-toast position="bottom-right"></p-toast>

<router-outlet> </router-outlet>

<p-sidebar [(visible)]="isQueryExecutorVisible" [fullScreen]="true" [showCloseIcon]="false"
  (onHide)="closeQueryExecutorEditor()">
  <app-query-executor [queryContext]="queryContext" (close)="closeQueryExecutorEditor()">
  </app-query-executor>
</p-sidebar>