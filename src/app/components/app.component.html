<nav class="navbar navbar-expand-md fixed-top">
  <div class="container-fluid">
    <a class=" text-muted h4 font-weight-light" routerLink="/about">
      <fa-icon icon="sitemap" size="sm"></fa-icon> <b class="ml-2">Purpose</b>
    </a>
    <button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse"
      (click)="isNavbarCollapsed = !isNavbarCollapsed" data-target="#navbarsDefault" aria-controls="navbarsDefault"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div [ngbCollapse]="isNavbarCollapsed" class="collapse navbar-collapse" id="navbarsDefault">
      <ui-switch [title]="isOnlineMode ? 'Online mode': 'Offline mode'" class="nav-link" [(ngModel)]="isOnlineMode"
        (change)="onModeChange($event)" size="small" *ngIf="allowOfflineMode">
      </ui-switch>

      <ul class="navbar-nav ml-auto">
        <li class="navbar-text  text-muted"
          *ngIf="connectionDetails && connectionDetails.displayName && connectionDetails.displayName.length > 0">
          <fa-icon icon="user" class=" mr-1"></fa-icon>
          {{connectionDetails.displayName}}
        </li>
        <li class="nav-item">
          <a class="nav-link text-muted ml-2" #connectionDetailPopover="ngbPopover" triggers="manual"
            (click)="openConnectionDetailEditor()" [autoClose]="false" [ngbPopover]="connectDetailsPopover"
            popoverTitle="Connection details">
            <fa-icon [icon]="['far', 'sun']"></fa-icon>
          </a>
        </li>

        <!-- <li class="nav-item">
          <a class="nav-link ml-2 text-muted" (click)="showConnectionEditor = true">
            <fa-icon [icon]="['far', 'sun']"></fa-icon>
          </a>
        </li> -->
        <li class="nav-item">
          <app-copyright></app-copyright>
        </li>
      </ul>
    </div>
  </div>

</nav>


<ng-template #connectDetailsPopover>
  <app-connection-details [connectionDetails]="connectionDetails" (close)="connectionDetailsSetupCompleted($event)">
  </app-connection-details>
</ng-template>

<ngx-loading-bar color="#FF8000" height="4pt" [includeSpinner]="false"></ngx-loading-bar>

<p-toast position="bottom-right"></p-toast>

<!-- <p-sidebar [(visible)]="showConnectionEditor" styleClass="ui-sidebar-md" position="right">
  <app-connection-details [connectionDetails]="connectionDetails" (close)="connectionDetailsSetupCompleted($event)">
  </app-connection-details>
</p-sidebar> -->

<router-outlet> </router-outlet>