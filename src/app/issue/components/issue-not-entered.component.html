<div class="center-text">
    <h4 class="mb-3 font-weight-light">

        <img src="/assets/logo.png" height="32pt" class="mr-1">
        StoryPurpose for Jira

        <button class="btn btn-sm btn-link text-muted" (click)="showStoryPurposeHelp = !showStoryPurposeHelp">
            <fa-icon [icon]="['far','question-circle']"></fa-icon>
        </button>
    </h4>
    <div class="p-3 mb-3 bg-light text-left" *ngIf="showStoryPurposeHelp">
        StoryPurpose is a set of visualization tools for agile teams that help ensure
        every story's purpose aligns with that of the organization
        <div class="text-right">
            <a href="https://www.storypurpose.info" class="small" target="_blank">Learn more...
                <fa-icon icon="external-link-alt" size="sm"></fa-icon>
            </a>
        </div>
    </div>
    <div class="custom-shadow p-4 rounded text-left">

        <ul ngbNav #nav="ngbNav" class="nav-tabs" [(activeId)]="selectedTab" [destroyOnHide]="false">
            <li [ngbNavItem]="1">
                <a ngbNavLink>Epic/Story</a>
                <ng-template ngbNavContent>
                    Proceed by entering Jira issue key
                    <button class="btn btn-sm btn-link text-muted" (click)="showSingleIssueHelp = !showSingleIssueHelp">
                        <fa-icon [icon]="['far','question-circle']"></fa-icon>
                    </button>

                    <div class="p-3 mt-1 mb-3 bg-light" *ngIf="showSingleIssueHelp">
                        <ul class="small pl-3">
                            <li>
                                <b>StoryPurpose for EPIC: </b>
                                Useful for visualizing all EPIC issues and how they span across
                                various components/modules within the application.
                            </li>
                            <li class="mt-3">
                                <b>StoryPurpose for Story: </b>
                                Useful for visualizing a selected story in the context of other linked issues,
                                highlighting dependencies and overall associated feature delivery pipeline.
                            </li>
                        </ul>
                    </div>

                    <div class=" input-group mt-2">
                        <input type="text" class="form-control" name="key" [(ngModel)]="key"
                            placeholder="Epic or Story key" [appAutofocus]="selectedTab === 1"
                            (keydown.enter)="navigateToKey(key)" (keydown.escape)="key = ''" />
                        <div class="input-group-append" *ngIf="canNavigateToKey()">
                            <button class="btn btn-primary border border-left-0" type="button"
                                (click)="navigateToKey(key)">
                                <fa-icon icon="chevron-right" [fixedWidth]="true"></fa-icon>
                            </button>
                        </div>
                    </div>
                </ng-template>
            </li>
            <li [ngbNavItem]="2 ">
                <a ngbNavLink>JQL</a>
                <ng-template ngbNavContent>
                    Proceed by entering JQL

                    <button class="btn btn-sm btn-link text-muted" (click)="showJQLHelp = !showJQLHelp">
                        <fa-icon [icon]="['far','question-circle']"></fa-icon>
                    </button>

                    <div class="p-3 mt-1 mb-3 bg-light" *ngIf="showJQLHelp">
                        <ul class="small pl-3">
                            <li>
                                <b>Storyboard and timeline for related issues: </b>
                                This provides flexibility to choose multiple relevant issues and view on a story map.
                            </li>
                        </ul>
                    </div>
                    <div class=" input-group mt-2">
                        <input type="text" class="form-control" name="query" [(ngModel)]="query" placeholder="JQL"
                            [appAutofocus]="selectedTab === 2" (keydown.enter)="navigateJql(query)"
                            (keydown.escape)="query = ''" />
                        <div class="input-group-append" *ngIf="canNavigateJql()">
                            <button class="btn btn-primary border border-left-0" type="button"
                                (click)="navigateJql(query)">
                                <fa-icon icon="search" [fixedWidth]="true"></fa-icon>
                            </button>
                        </div>
                    </div>

                </ng-template>
            </li>
        </ul>
        <div [ngbNavOutlet]="nav" class="mt-3"></div>
    </div>
</div>