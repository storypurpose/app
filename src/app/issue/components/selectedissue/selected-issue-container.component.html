<div class="bg-light container-fluid pb-2 border-bottom" *ngIf="selectedIssue">
    <div class="float-right btn-group btn-group-sm">
        <button class="btn btn-sm btn-link text-muted " (click)="toggleView()">
            <fa-icon [icon]="compactView ? 'expand-alt' : 'compress-alt'"></fa-icon>
        </button>
        <app-issue-navigation-menu class="mr-2" [issueKey]="selectedIssue.key">
        </app-issue-navigation-menu>
    </div>
    <nav aria-label="breadcrumb" *ngIf="!compactView">
        <ol class="breadcrumb small bg-light p-0 m-0">
            <li class="breadcrumb-item">
                <a [routerLink]="['/search/list']" class="text-uppercase">
                    <fa-icon icon="search" class="mr-1"></fa-icon> Results
                </a>
            </li>
            <li class="breadcrumb-item" *ngIf="primaryIssue && !primaryAndSelectIssueSame">
                <a [routerLink]="['/browse', primaryIssue.key]" class="text-uppercase">
                    {{primaryIssue.issueType}}: {{primaryIssue.key}}
                </a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                <span class="text-uppercase text-dark">
                    {{selectedIssue.issueType}}: {{selectedIssue.key}}
                </span>

                <div class="badge text-truncate ml-2" [ngClass]="{'badge-success': selectedIssue.resolution, 
                'badge-warning':!selectedIssue.resolution && selectedIssue.duedateMissing,
                'badge-secondary':!selectedIssue.resolution && !selectedIssue.duedateMissing}">
                    {{selectedIssue.status}}
                </div>

            </li>
        </ol>
    </nav>

    <h2 class="font-weight-light">
        {{selectedIssue.title}}
    </h2>

    <div class="btn-group" *ngIf="!compactView">
        <a class="btn btn-default border btn-sm text-nowrap" [routerLink]="['details']" title="View purpose"
            [routerLinkActive]="'active'">
            <fa-icon icon="fire" size="sm" class="text-brand"></fa-icon>
            <span class=" ml-1">Purpose</span>
        </a>

        <a class="btn btn-default border btn-sm text-nowrap" routerLink="workbench" title="Workbench"
            [routerLinkActive]="'active'">
            <fa-icon [icon]="['far','window-restore']" size="sm"></fa-icon>
            <span class=" ml-1">Workbench</span>
        </a>

        <a class="btn btn-default border btn-sm text-nowrap" routerLink="storyboard" title="Storyboard"
            [routerLinkActive]="'active'" *ngIf="canNavigateToStoryboard">
            <fa-icon [icon]="['far', 'map']" size="sm"></fa-icon>
            <span class=" ml-1">Storyboard</span>
        </a>

        <a class="btn btn-default border btn-sm text-nowrap" routerLink="timeline" title="Timeline"
            [routerLinkActive]="'active'" *ngIf="canNavigateToStoryboard">
            <fa-icon icon="map-signs" size="sm"></fa-icon>
            <span class=" ml-1">Timeline</span>
        </a>
    </div>

</div>
<!-- <pre>{{selectedIssue | json}}</pre> -->
<div style="overflow: auto;width:100%;" #content [style.height.px]="contentHeight">
    <router-outlet></router-outlet>
</div>