<div class="pane">
    <div class="pane-body pt-0">
        <div class="container">
            <h4>Connection details</h4>
            <hr>
            <form>
                <div class="alert bg-light mb-3">
                    <div class="form-group">
                        <label for="jiraserver">
                            Server url
                            <i class="text-muted small">(e.g. https://jira.<u>yourcompany</u>.com)</i>
                        </label>
                        <input type="url" class="form-control form-control-sm" id="serverUrl" name="serverUrl"
                            aria-describedby="jiraserver" placeholder="Jira server url"
                            [(ngModel)]="connectionDetails.serverUrl" (keydown.control.enter)="onSave()">

                    </div>
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" class="form-control form-control-sm" id="username" name="username"
                            placeholder="username" [(ngModel)]="connectionDetails.username"
                            (keydown.control.enter)="onSave()">
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" class="form-control form-control-sm" id="password" name="password"
                            placeholder="Password" [(ngModel)]="connectionDetails.password"
                            (keydown.control.enter)="onSave()">
                    </div>

                    <div class="form-group">
                        <i class="text-muted small">
                            <b>NOTE:</b> The user credentials are only cached locally on your
                            <a target="_blank"
                                href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">
                                browser's localStorage <fa-icon icon="external-link-alt"></fa-icon>
                            </a>
                            <br>
                            Credentials are <u>not stored nor transmitted</u> to any server.
                        </i>
                    </div>


                    <div class="form-group form-check" *ngIf="allowOfflineMode">
                        <input type="checkbox" class="form-check-input" id="offlineMode" name="offlineMode"
                            [(ngModel)]="connectionDetails.offlineMode">
                        <label class="form-check-label" for="offlineMode">Offline mode</label>
                    </div>
                </div>
                <div class="form-group">
                    <button class="btn btn-secondary btn-sm" [disabled]="!canSave()" (click)="testConnection()">
                        Test connection
                    </button>
                </div>
                <hr>
                <app-button-panel [showSave]="testSuccessful || connectionDetails.offlineMode" [canSave]="canSave()" (save)="onSave()"
                    (close)="onClose(false)" (reset)="onReset()">
                </app-button-panel>
            </form>
        </div>
    </div>
</div>